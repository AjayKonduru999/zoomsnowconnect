<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>public</access>
        <active>true</active>
        <api_name>x_173931_zoomnow.OAuthUtilZoomRefresh</api_name>
        <caller_access/>
        <client_callable>false</client_callable>
        <description/>
        <name>OAuthUtilZoomRefresh</name>
        <script><![CDATA[var OAuthUtilZoomRefresh = Class.create();
OAuthUtilZoomRefresh.prototype = {
    initialize: function() {},
    interceptRequestParameters : function(requestParamMap) {
// Add/Modify request parameters if needed
this.preprocessAccessToken(requestParamMap);
},
parseTokenResponse: function(accessTokenResponse) {
this.postprocessAccessToken(accessTokenResponse);
},
preprocessAuthCode: function(requestParamMap) {
requestParamMap.put('access_type','offline');
requestParamMap.put('response_type','code');
requestParamMap.put('prompt','consent');
},
preprocessAccessToken: function(requestParamMap) {
},
postprocessAccessToken: function(accessTokenResponse) {
var contentType = accessTokenResponse.getContentType();
if (contentType && contentType.indexOf('application/json') != -1) {
var tokenResponse = (new
global.JSON()).decode(accessTokenResponse.getBody());
var paramMap = accessTokenResponse.getparameters();
for (param in tokenResponse)
paramMap.put(param, tokenResponse[param].toString());
}

    },

    type: 'OAuthUtilZoomRefresh'
};]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-06-28 13:22:11</sys_created_on>
        <sys_id>5c2d2705db41b010eaeb84d8689619b0</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>OAuthUtilZoomRefresh</sys_name>
        <sys_package display_value="ZoomNow" source="x_173931_zoomnow">820157cddb4d7010eaeb84d8689619ab</sys_package>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="ZoomNow">820157cddb4d7010eaeb84d8689619ab</sys_scope>
        <sys_update_name>sys_script_include_5c2d2705db41b010eaeb84d8689619b0</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-06-28 13:37:30</sys_updated_on>
    </sys_script_include>
</record_update>
